/////////////////////////////////////////////////////////////////////////////
/////'ип make-function
/////////////////////////////////////////////////////////////////////////////

        //_ак сRздавать Rбъ_кты с парам_трами прим_р дв_ри

typedef GameObject* (*tLoadObject)(BinFile*,ID,GameSystem*);
typedef GameObject* (*tMakeObject)(ArgPtr,ID,GameSystem*);

/////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////
/////'ЁЇ make-function
/////////////////////////////////////////////////////////////////////////////

        //_ Є бR¤ ў вм RЎк_Євл б Ї а ┐_ва ┐Ё ЇаЁ┐_а ¤ў_аЁ

typedef GameObject* (*tLoadObject)(BinFile*,ID,GameSystem*);
typedef GameObject* (*tMakeObject)(ArgPtr,ID,GameSystem*);

/////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////
/////'ип make-function
/////////////////////////////////////////////////////////////////////////////

        //_ак сRздавать Rбъ_кты с парам_трами прим_р дв_ри

typedef GameObject* (*tLoadObject)(BinFile*,ID,GameSystem*);
typedef GameObject* (*tMakeObject)(ArgPtr,ID,GameSystem*);

/////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////
/////╥шя make-function
/////////////////////////////////////////////////////////////////////////////

        //╩ръ ёючфртрЄ№ юс·хъЄ√ ё ярЁрьхЄЁрьш яЁшьхЁ фтхЁш

typedef GameObject* (*tLoadObject)(BinFile*,ID,GameSystem*);
typedef GameObject* (*tMakeObject)(ArgPtr,ID,GameSystem*);

/////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////
/////Тип make-function
/////////////////////////////////////////////////////////////////////////////

        //Как создавать объекты с параметрами пример двери

typedef GameObject* (*tMakeObject)(ArgPtr,ID,GameSystem*);

/////////////////////////////////////////////////////////////////////////////
/////Массив make-functions для создания объектов требующих загрузки
/////////////////////////////////////////////////////////////////////////////

extern tMakeObject     makeFn [MAX_TYPES];

/////////////////////////////////////////////////////////////////////////////
/////Шаблон для регистрации make-function
/////////////////////////////////////////////////////////////////////////////

template <class ClassName,GameObjects ClassType>
class make
{
  public:
                                make  () {
                     makeFn [ClassType] = &makeObject;
                     loadFn [ClassType] = &loadObject;
                                          }

    static      GameObject*     makeObject (ArgPtr ptr,
                                            ID callback = ID(-1,-1),
                                            GameSystem* owner = gameSystem)
          { return new (ClassType,callback,owner) ClassName (ptr); }

};

/////////////////////////////////////////////////////////////////////////////
////Функция регистрации нового игрового класса
/////////////////////////////////////////////////////////////////////////////

BOOL   RegisterGameClass (GameObjects,tMakeObject);